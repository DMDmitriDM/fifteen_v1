(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var s=t.g.document;if(!e&&s&&(s.currentScript&&"SCRIPT"===s.currentScript.tagName.toUpperCase()&&(e=s.currentScript.src),!e)){var o=s.getElementsByTagName("script");if(o.length)for(var i=o.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=o[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"})();const e=t.p+"assets/images/face.9f5d18f74c9424741332.ico";function s(t,e=!1){const s=t.touches[0];return{x:e?s.pageX:s.clientX,y:e?s.pageY:s.clientY}}function o(t,e,s){for(let o=0;o<s.length;o++){let i=s[o];t[i]=e[i]}}function i(t,e){if(function(t){["id","class","style","draggable"].forEach(function(e){t.removeAttribute(e)})}(e),t instanceof HTMLCanvasElement){let s=e;s.width=t.width,s.height=t.height,s.getContext("2d").drawImage(t,0,0)}!function(t,e){let s=getComputedStyle(t);for(let t of s)t.includes("transition")||(e.style[t]=s[t]);Object.keys(e.dataset).forEach(t=>delete e.dataset[t])}(t,e),e.style.pointerEvents="none";for(let s=0;s<t.children.length;s++)i(t.children[s],e.children[s])}var n=class{_dropEffect;_effectAllowed;_data;_dragDropTouch;constructor(t){this._dropEffect="move",this._effectAllowed="all",this._data={},this._dragDropTouch=t}get dropEffect(){return this._dropEffect}set dropEffect(t){this._dropEffect=t}get effectAllowed(){return this._effectAllowed}set effectAllowed(t){this._effectAllowed=t}get types(){return Object.keys(this._data)}clearData(t){null!==t?delete this._data[t.toLowerCase()]:this._data={}}getData(t){let e=t.toLowerCase(),s=this._data[e];return"text"===e&&null==s&&(s=this._data["text/plain"]),s}setData(t,e){this._data[t.toLowerCase()]=e}setDragImage(t,e,s){this._dragDropTouch.setDragImage(t,e,s)}},{round:r}=Math,a={allowDragScroll:!0,contextMenuDelayMS:900,dragImageOpacity:.5,dragScrollPercentage:10,dragScrollSpeed:10,dragThresholdPixels:5,forceListen:!1,isPressHoldMode:!1,pressHoldDelayMS:400,pressHoldMargin:25,pressHoldThresholdPixels:0},l=class{_dragRoot;_dropRoot;_dragSource;_lastTouch;_lastTarget;_ptDown;_isDragEnabled;_isDropZone;_dataTransfer;_img;_imgCustom;_imgOffset;_pressHoldIntervalId;configuration;constructor(t=document,e=document,s){for(this.configuration={...a,...s||{}},this._dragRoot=t,this._dropRoot=e;!this._dropRoot.elementFromPoint&&this._dropRoot.parentNode;)this._dropRoot=this._dropRoot.parentNode;this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new n(this),this._img=null,this._imgCustom=null,this._imgOffset={x:0,y:0},this.listen()}listen(){if(0===navigator.maxTouchPoints&&!this.configuration.forceListen)return;const t={passive:!1,capture:!1};this._dragRoot.addEventListener("touchstart",this._touchstart.bind(this),t),this._dragRoot.addEventListener("touchmove",this._touchmove.bind(this),t),this._dragRoot.addEventListener("touchend",this._touchend.bind(this)),this._dragRoot.addEventListener("touchcancel",this._touchend.bind(this))}setDragImage(t,e,s){this._imgCustom=t,this._imgOffset={x:e,y:s}}_touchstart(t){if(this._shouldHandle(t)){this._reset();let e=this._closestDraggable(t.target);e&&(!t.target||this._dispatchEvent(t,"mousemove",t.target)||this._dispatchEvent(t,"mousedown",t.target)||(this._dragSource=e,this._ptDown=s(t),this._lastTouch=t,setTimeout(()=>{this._dragSource===e&&null===this._img&&this._dispatchEvent(t,"contextmenu",e)&&this._reset()},this.configuration.contextMenuDelayMS),this.configuration.isPressHoldMode?this._pressHoldIntervalId=setTimeout(()=>{this._isDragEnabled=!0,this._touchmove(t)},this.configuration.pressHoldDelayMS):t.isTrusted||t.target!==this._lastTarget&&(this._lastTarget=t.target)))}}_touchmove(t){if(this._shouldCancelPressHoldMove(t))this._reset();else if(this._shouldHandleMove(t)||this._shouldHandlePressHoldMove(t)){let e=this._getTarget(t);if(this._dispatchEvent(t,"mousemove",e))return this._lastTouch=t,void t.preventDefault();if(this._dragSource&&!this._img&&this._shouldStartDragging(t)){if(this._dispatchEvent(this._lastTouch,"dragstart",this._dragSource))return void(this._dragSource=null);this._createImage(t),this._dispatchEvent(t,"dragenter",e)}if(this._img&&this._dragSource&&(this._lastTouch=t,t.preventDefault(),this._dispatchEvent(t,"drag",this._dragSource),e!==this._lastTarget&&(this._lastTarget&&this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(t,"dragenter",e),this._lastTarget=e),this._moveImage(t),this._isDropZone=this._dispatchEvent(t,"dragover",e),this.configuration.allowDragScroll)){const e=this._getHotRegionDelta(t);globalThis.scrollBy(e.x,e.y)}}}_touchend(t){if(this._lastTouch&&t.target&&this._lastTarget){if(this._shouldHandle(t)){if(this._dispatchEvent(this._lastTouch,"mouseup",t.target))return void t.preventDefault();this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",t.target)),this._destroyImage(),this._dragSource&&(t.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}}else this._reset()}_shouldHandle(t){return t&&!t.defaultPrevented&&t.touches&&t.touches.length<2}_shouldHandleMove(t){return!this.configuration.isPressHoldMode&&this._shouldHandle(t)}_shouldHandlePressHoldMove(t){return this.configuration.isPressHoldMode&&this._isDragEnabled&&t&&t.touches&&t.touches.length}_shouldCancelPressHoldMove(t){return this.configuration.isPressHoldMode&&!this._isDragEnabled&&this._getDelta(t)>this.configuration.pressHoldMargin}_shouldStartDragging(t){let e=this._getDelta(t);return this.configuration.isPressHoldMode?e>=this.configuration.pressHoldThresholdPixels:e>this.configuration.dragThresholdPixels}_reset(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new n(this),clearTimeout(this._pressHoldIntervalId)}_getDelta(t){if(!this._ptDown)return 0;const{x:e,y:o}=this._ptDown,i=s(t);return((i.x-e)**2+(i.y-o)**2)**.5}_getHotRegionDelta(t){const{clientX:e,clientY:s}=t.touches[0],{innerWidth:o,innerHeight:i}=globalThis,{dragScrollPercentage:n,dragScrollSpeed:r}=this.configuration,a=n/100,l=1-a;return{x:e<o*a?-r:e>o*l?+r:0,y:s<i*a?-r:s>i*l?+r:0}}_getTarget(t){let e=s(t),o=this._dropRoot.elementFromPoint(e.x,e.y);for(;o&&"none"==getComputedStyle(o).pointerEvents;)o=o.parentElement;return o}_createImage(t){this._img&&this._destroyImage();let e=this._imgCustom||this._dragSource;if(this._img=e.cloneNode(!0),i(e,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){let o=e.getBoundingClientRect(),i=s(t);this._imgOffset={x:i.x-o.left,y:i.y-o.top},this._img.style.opacity=`${this.configuration.dragImageOpacity}`}this._moveImage(t),document.body.appendChild(this._img)}_destroyImage(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null}_moveImage(t){requestAnimationFrame(()=>{if(this._img){let e=s(t,!0),o=this._img.style;o.position="absolute",o.pointerEvents="none",o.zIndex="999999",o.left=`${r(e.x-this._imgOffset.x)}px`,o.top=`${r(e.y-this._imgOffset.y)}px`}})}_dispatchEvent(t,e,s){if(!t||!s)return!1;const i=function(t,e,s){const i=new Event(t,{bubbles:!0,cancelable:!0}),n=e.touches[0];return i.button=0,i.which=i.buttons=1,o(i,e,["altKey","ctrlKey","metaKey","shiftKey"]),o(i,n,["pageX","pageY","clientX","clientY","screenX","screenY","offsetX","offsetY"]),function(t,e){const s=e.getBoundingClientRect();void 0===t.offsetX&&(t.offsetX=t.clientX-s.x,t.offsetY=t.clientY-s.y),void 0===t.layerX&&(t.layerX=t.pageX-s.left,t.layerY=t.pageY-s.top)}(i,s),i}(e,t,s);return i.dataTransfer=this._dataTransfer,s.dispatchEvent(i),i.defaultPrevented}_closestDraggable(t){for(let e=t;null!==e;e=e.parentElement)if(e.draggable)return e;return null}};function d(t=document,e=document,s){new l(t,e,s)}function h(){const t=[];for(let e=0;e<15;e++)t.push(e+1);!function(t){const e=t.length;for(let s=0;s<e;s++){const o=Math.floor(Math.random()*e);let i=t[s];t[s]=t[o],t[o]=i}}(t);const e=document.querySelectorAll(".box_source-div-span");for(let s=0;s<e.length;s++)e[s].textContent=t[s]}"file:///D:/2_2/Fifteen/fifteen_webpack/fifteen_1/node_modules/@dragdroptouch/drag-drop-touch/dist/drag-drop-touch.esm.js".includes("?autoload")?d(document,document,{forceListen:!0}):globalThis.DragDropTouch={enable:function(t=document,e=document,s){d(t,e,s)}};const c=document.createElement("link");c.rel="icon",c.type="image/x-icon",c.href=e,document.head.append(c),d(),function(){const t=document.createElement("div");t.classList.add("container"),document.body.append(t);const e=document.createElement("div");e.classList.add("box"),t.append(e);const s=document.createElement("div");s.classList.add("box_target-div"),e.append(s);for(let t=0;t<16;t++){const e=document.createElement("div");e.classList.add("box_target-div-cell"),e.dataset.number=String(t+1),e.dataset.busy=15!==t?"yes":"not",s.append(e)}const o=document.querySelectorAll(".box_target-div-cell");for(let t=0;t<o.length-1;t++){const e=document.createElement("div");e.classList.add("box_source-div"),e.setAttribute("draggable","true"),o[t].append(e);const s=document.createElement("span");s.classList.add("box_source-div-span"),s.textContent="?",e.append(s)}h();const i=document.createElement("button");i.classList.add("btn-game","btn-reset"),i.textContent="Начать сначала",i.addEventListener("click",()=>{!function(t){if("not"!==t[15].dataset.busy){let e;for(let s=0;s<t.length-1;s++)if("not"===t[s].dataset.busy){e=t[15].children[0],t[15].removeChild(e),t[s].appendChild(e),t[15].dataset.busy="not",t[s].dataset.busy="yes";break}}}(o),h()}),e.append(i)}(),function(){const t=document.querySelectorAll(".box_source-div"),e=document.querySelectorAll(".box_target-div-cell");let s=null;for(const e of t)e.addEventListener("dragstart",t=>{t.dataTransfer.dropEffect="move",s=t.target});for(const t of e)t.addEventListener("dragover",t=>{t.preventDefault(),t.dataTransfer.dropEffect="move"}),t.addEventListener("drop",()=>{if("yes"===t.dataset.busy)return;o(Number(t.dataset.number),Number(s.parentNode.dataset.number))?(t.dataset.busy="yes",s.parentNode.dataset.busy="not",s.parentNode.removeChild(s),t.appendChild(s)):console.log("Not near, not drop")});function o(t,e){if(i(t)===i(e)){const s=t-e;return 1===s||-1===s}{const s=t-e;return 4===s||-4===s}}function i(t){return t<=4?1:t>=5&&t<=8?2:t>=9&&t<=12?3:4}}()})();